
## Table: `predictions`

Stores each churn prediction generated by a model for a customer.

| Column name       | Description                                                                                                  |
| ----------------- | ------------------------------------------------------------------------------------------------------------ |
| **prediction_id** | Unique identifier of the prediction (Primary Key).                                                           |
| **customer_id**   | Identifier of the customer for whom the prediction was made (Foreign Key → `customers.customer_id`).         |
| **churn_score**   | Numerical churn score or probability produced by the model (e.g. value between 0 and 1).                     |
| **churn_label**   | Final predicted churn class (e.g. `true/false`, `1/0`).                                                      |
| **features_json** | JSON snapshot of the features and values used at prediction time.                                            |
| **model_version** | Version of the trained model used to generate the prediction (Foreign Key → `trained_models.model_version`). |
| **created_at**    | Timestamp when the prediction was created.                                                                   |

---

## Table: `feedback`

Stores user or business feedback associated with predictions.

| Column name        | Description                                                                       |
| ------------------ | --------------------------------------------------------------------------------- |
| **feedback_id**    | Unique identifier of the feedback entry (Primary Key).                            |
| **prediction_id**  | Identifier of the related prediction (Foreign Key → `predictions.prediction_id`). |
| **answer**         | Customer feedback response (Text: `Yes` / `No`).                                  |
| **feedback_label** | Boolean feedback label indicating correctness.                                    |
| **sent_at**        | Timestamp when the email was sent to the customer.                                |
| **answered_at**    | Timestamp when the feedback was submitted by the customer.                        |

---

## Table: `trained_models`

Stores metadata and lifecycle information for trained model versions.

| Column name         | Description                                                                            |
| ------------------- | -------------------------------------------------------------------------------------- |
| **model_version**   | Unique identifier of the trained model version (Primary Key), e.g. `v1`, `v1.1`.       |
| **training_reason** | Reason for training the model (e.g. threshold, data refresh, performance degradation). |
| **status**          | Current status of the training process (`running`, `success`, `failed`).               |
| **started_at**      | Timestamp when model training started.                                                 |
| **ended_at**        | Timestamp when model training finished (NULL if still running).                        |
| **notes**           | Additional notes or comments about the training run.                                   |

---

## Relations (ER)

- **customers (1) → (N) predictions**
  - `predictions.customer_id` → `customers.customer_id`

- **trained_models (1) → (N) predictions**
  - `predictions.model_version` → `trained_models.model_version`

- **predictions (1) → (N) feedback**
  - `feedback.prediction_id` → `predictions.prediction_id`

